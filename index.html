<!DOCTYPE html>

<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Google</title>
    <link rel="stylesheet" href="stylesheet.css" />
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&display=swap" rel="stylesheet">

</head>
<body>
    <div class="main-container">
        <div class="logo">
            <img draggable="false" src="https://upload.wikimedia.org/wikipedia/commons/thumb/2/2f/Google_2015_logo.svg/2560px-Google_2015_logo.svg.png" />
        </div>
        <div class="search-bar">
            <input type="text" placeholder="Търсене с Google или въведете URL адрес" />
            <div id="input-left">
                <span class="material-symbols-outlined">
                    search
                </span>
            </div>
            <div id="input-right">
                <span class="material-symbols-outlined">
                    mic
                </span>
                <span class="material-symbols-outlined">
                    center_focus_strong
                </span>
            </div>
        </div>
        <div id="form-container" class="form-container">
            <div class="img-form">
                <span title="Затвори" onclick="closeImgChangeForm()" id="close" class="material-symbols-outlined">
                    close
                </span>
                <input id="imageUrl" type="text" placeholder="Въведи URL на изображение" />
                <div onclick="changeImg()" class="button">Продължи</div>
            </div>
        </div>

    </div>
    <!--Other parts of the page(corners, etc)-->
    <div class="corner-menu">
        <div class="menu-item">
            <span>Gmail</span>
        </div>
        <div class="menu-item">
            <span>Изображения</span>
        </div>
        <div class="menu-item">
            <span class="material-symbols-outlined">
                apps
            </span>
        </div>
        <div onclick="showImgChangeForm()" id="img-change" class="menu-item" style="padding: 4px;">
            <img draggable="false" id="accountImg" src="https://images.squarespace-cdn.com/content/v1/5936fbebcd0f68f67d5916ff/c3942c2f-3b38-4333-88a9-16ccd7d7cebb/person-placeholder-300x300.jpeg" />
        </div>
    </div> 
</body>
</html>
<script>
    function showImgChangeForm() {
        const formContainer = document.getElementById("form-container");
        formContainer.style = "display: block;"
    }
    function closeImgChangeForm() {
        const formContainer = document.getElementById("form-container");
        formContainer.style = "display: none;"
    }
        function changeImg() {
        
        const inputVal = document.getElementById("imageUrl");
        const image = document.getElementById("accountImg");
            /*inputVal.value = "";*/

            // Create a new Image object to check if the URL is valid
            const img = new Image();

            // Set up the onload event to update the img src if the image loads successfully
            img.onload = function () {
                document.getElementById("accountImg").src = inputVal.value;
                errorMsg.textContent = "";  // Clear any previous error messages
            };

            // Set up the onerror event to handle the case where the image fails to load
            img.onerror = function () {
                errorMsg.textContent = "Failed to load image. Please check the URL.";
            };

            // Set the src attribute of the Image object to trigger loading
            img.src = inputVal.value;
    }
</script>